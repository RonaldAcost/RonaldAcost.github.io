
/* ===== Variables de tema ===== */
:root{
  --bg1: 245 246 255;
  --bg2: 240 248 255;
  --fg: 18 23 29;
  --muted: 98 108 118;
  --card: 255 255 255;
  --ring: 0 0 0 / .08;
  --brand: 38 98 235;     /* azul eléctrico */
  --brand2: 8 192 120;    /* verde neón */
}
[data-theme="dark"]{
  --bg1: 10 12 16;
  --bg2: 20 24 32;
  --fg: 236 239 244;
  --muted: 154 165 177;
  --card: 24 28 36;
  --ring: 255 255 255 / .06;
  --brand: 0 176 255;
  --brand2: 0 230 118;
}
/* Fallback del sistema SOLO si no hay data-theme (no rompe el toggle) */
@media (prefers-color-scheme: dark){
  :root:not([data-theme]){
    --bg1: 10 12 16;
    --bg2: 20 24 32;
    --fg: 236 239 244;
    --muted: 154 165 177;
    --card: 24 28 36;
    --ring: 255 255 255 / .06;
    --brand: 0 176 255;
    --brand2: 0 230 118;
  }
}

/* ===== Base ===== */
html, body { height: 100%; }
body{
  color: rgb(var(--fg));
  background:
    radial-gradient(1200px 600px at 10% -10%, rgb(var(--brand) / .12), transparent 60%),
    radial-gradient(1200px 600px at 110% 10%, rgb(var(--brand2) / .10), transparent 60%),
    linear-gradient(180deg, rgb(var(--bg1)) 0%, rgb(var(--bg2)) 100%);
  background-attachment: fixed;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  transition: background-color .2s ease, color .2s ease;
}
a{ color: rgb(var(--brand)); }
.card-glass{
  background: rgb(var(--card) / .90);
  border: 1px solid rgb(var(--ring));
  border-radius: 20px;
  backdrop-filter: blur(8px);
  box-shadow: 0 10px 30px rgb(0 0 0 / .18);
}
.wrap{ max-width: 980px; margin: 0 auto; padding: 32px 16px 64px; }
.progress{ height:14px; background: rgb(255 255 255 / .08); }
.progress-bar{ background: linear-gradient(90deg, rgb(var(--brand)), rgb(var(--brand2))); }

/* ===== Checklist ===== */
.item-row{
  display:flex; align-items:flex-start; gap:12px;
  padding:10px 12px; border-radius:12px;
  border:1px solid rgb(255 255 255 / .06);
  background: rgb(255 255 255 / .02);
  transition: transform .06s ease, box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
}
.item-row + .item-row{ margin-top:10px; }
.item-row input[type="checkbox"]{ transform:scale(1.15); margin-top:3px; }
.item-row:hover{
  transform: translateY(-2px);
  background: rgb(255 255 255 / .06);
  border-color: rgb(var(--brand) / .35);
  box-shadow: 0 8px 24px rgb(0 0 0 / .25);
}
.item-row:focus-within{ outline: 2px solid rgb(var(--brand) / .35); }
.item-title{ font-weight:600; }
.item-meta{ color: rgb(var(--muted)); font-size: .92rem; }
.toolbar .form-control, .toolbar .form-select{ background: rgb(255 255 255 / .06); border-color: rgb(255 255 255 / .14); color: rgb(var(--fg)); }
.toolbar .form-control::placeholder{ color: rgb(255 255 255 / .5); }
.toolbar .btn{ border-color: rgb(255 255 255 / .18); }
.pill{ display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:999px; border:1px solid rgb(255 255 255 / .14); background: rgb(255 255 255 / .04); }
.footer{ color: rgb(var(--muted)); font-size:.95rem; }
.section-title{ position:sticky; top:0; background:linear-gradient(180deg, rgb(var(--bg1) / .9), rgb(var(--bg2) / .9)); backdrop-filter: blur(6px); z-index:2; }

/* ===== Landing ===== */
.page{ min-height:100%; display:grid; place-items:center; padding:48px 16px; }
.hero{ padding:28px 28px 12px; text-align:center; }
.avatar{ width:100px; height:100px; border-radius:50%; border:3px solid rgb(var(--ring)); object-fit:cover; box-shadow:0 10px 20px rgb(0 0 0 / .12); }
.title{ font-weight:800; letter-spacing:-.02em; }
.subtitle{ color: rgb(var(--muted)); }
.links{ padding:8px 16px 24px; }
.link-item{
  --btn-bg: 255 255 255;
  background: rgb(var(--btn-bg) / .86);
  border:1px solid rgb(var(--ring));
  border-radius:14px;
  padding:14px 16px;
  display:flex; align-items:center; gap:12px;
  text-decoration:none; color:inherit;
  transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
}
.link-item:hover{ transform: translateY(-2px); border-color: rgb(var(--brand) / .4); box-shadow: 0 10px 26px rgb(0 0 0 / .10); }
.link-item i{ font-size:1.25rem; color: rgb(var(--brand)); }
.link-item small{ color: rgb(var(--muted)); font-weight:500; }

/* ===== Toggle Tema ===== */
.theme-toggle{
  position:fixed; top:16px; right:16px; z-index:50;
  border-radius:999px; border:1px solid rgb(var(--ring));
  background: rgb(var(--card) / .95);
  padding:8px 12px; cursor:pointer; display:flex; align-items:center; gap:8px;
}
.theme-toggle i{ color: rgb(var(--brand)); }


/* === 1) Indicar al navegador el esquema de color por tema === */
[data-theme="dark"] { color-scheme: dark; }
[data-theme="light"] { color-scheme: light; }

/* === 2) Select visible en oscuro y claro (fallback cross-browser) === */
select.form-select {
  /* base neutra; Bootstrap ya pone tamaños/bordes */
  background-color: rgb(255 255 255 / .86);
  color: #111;
  border-color: rgb(var(--ring));
}

/* Tema oscuro: alto contraste para el control cerrado */
[data-theme="dark"] select.form-select {
  background-color: #1e1e1e;     /* fondo del control */
  color: #f2f2f2;                /* texto de la opción seleccionada */
  border-color: #3a3a3a;
}

/* Opciones del desplegable (lista abierta) */
select.form-select option {
  background-color: #ffffff;     /* claro por defecto */
  color: #111111;
}
[data-theme="dark"] select.form-select option {
  background-color: #151515;     /* fondo de la lista en oscuro */
  color: #f2f2f2;                /* texto de cada opción */
}

/* Placeholder y bordes en la toolbar para que no se “laven” en oscuro */
.toolbar .form-control,
.toolbar .form-select {
  background: rgb(255 255 255 / .06);
  border-color: rgb(255 255 255 / .18);
  color: rgb(var(--fg));
}
[data-theme="dark"] .toolbar .form-control::placeholder {
  color: rgb(255 255 255 / .55);
}

/* Accesibilidad: foco visible en ambos temas */
.form-select:focus, .form-control:focus {
  border-color: rgb(var(--brand));
  box-shadow: 0 0 0 .2rem rgb(var(--brand) / .25);
}

/* ===== Unificar INPUT + SELECT en Edge/Chromium ===== */

/* Tokens de control por tema */
:root{
  --ctl-bg: 255 255 255;      /* fondo control */
  --ctl-text: 18 23 29;       /* texto */
  --ctl-border: 0 0 0;        /* base para bordes */
  --ctl-ph: 107 114 128;      /* placeholder */
}
[data-theme="dark"]{
  --ctl-bg: 30 32 36;         /* usa color OPAQUE para evitar ghosting en Edge */
  --ctl-text: 236 239 244;
  --ctl-border: 255 255 255;
  --ctl-ph: 170 180 190;
}

/* Hacer que el navegador pinte controles nativos según el tema */
[data-theme="dark"]  { color-scheme: dark; }
[data-theme="light"] { color-scheme: light; }

/* Caja base común */
.toolbar .form-control,
.toolbar .form-select{
  background-color: rgb(var(--ctl-bg));             /* sólido (no alpha) */
  color: rgb(var(--ctl-text));
  border: 1px solid rgb(var(--ctl-border) / .22);
  border-radius: .6rem;
  box-shadow: none;                                  /* limpia inset de Bootstrap/UA */
  transition: border-color .15s, background-color .15s, color .15s;
}

/* Hover/focus coherentes */
.toolbar .form-control:hover,
.toolbar .form-select:hover{
  border-color: rgb(var(--ctl-border) / .32);
}
.form-control:focus, .form-select:focus{
  border-color: rgb(var(--brand));
  box-shadow: 0 0 0 .2rem rgb(var(--brand) / .25);
  outline: none;
}

/* Placeholder visible */
.toolbar .form-control::placeholder{ color: rgb(var(--ctl-ph)); }

/* === SELECT: quita “skin” y caret nativo (Edge/Chromium) === */
.toolbar .form-select{
  -webkit-appearance: none;   /* Edge/Chromium */
          appearance: none;
  padding-right: 2.25rem;
  background-repeat: no-repeat;
  background-position: right .75rem center;
  background-size: 16px 12px;
}

/* Oculta flecha vieja en Edge Legacy/IE (por si acaso) */
.toolbar .form-select::-ms-expand{ display:none; }

/* Caret por tema (SVG embebido) */
[data-theme="light"] .toolbar .form-select{
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23111111'%3E%3Cpath d='M3.2 5.5l4.8 4.8L12.8 5.5z'/%3E%3C/svg%3E");
}
[data-theme="dark"] .toolbar .form-select{
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23f2f2f2'%3E%3Cpath d='M3.2 5.5l4.8 4.8L12.8 5.5z'/%3E%3C/svg%3E");
}

/* Lista desplegada: colores consistentes */
.toolbar .form-select option{
  background-color: rgb(var(--ctl-bg));
  color: rgb(var(--ctl-text));
}

/* Tema CLARO: sube contraste general de la toolbar */
[data-theme="light"] .toolbar .form-control,
[data-theme="light"] .toolbar .form-select{
  border-color: rgb(0 0 0 / .14);
  box-shadow: 0 1px 2px rgb(0 0 0 / .04) inset;
}

/* Botón Reiniciar visible en claro */
[data-theme="light"] .btn.btn-outline-danger{
  border-color: #ef4444; color: #b91c1c;
}
[data-theme="light"] .btn.btn-outline-danger:hover{
  background: rgb(239 68 68 / .06); color: #991b1b; border-color: #ef4444;
}

/* Checkbox con acento de marca */
input[type="checkbox"]{ accent-color: rgb(var(--brand)); }
[data-theme="dark"] input[type="checkbox"]{ accent-color: rgb(var(--brand2)); }

/* ===== Fondo animado futurista (ligero y accesible) ===== */

/* Extra: tercer acento para el brillo púrpura */
:root { --brand3: 145 92 255; }         /* neon violeta (claro) */
[data-theme="dark"] { --brand3: 120 64 255; } /* neon violeta (oscuro) */

/* Crea un stacking context para los pseudo-elementos */
body { position: relative; }

/* Capa 1: blobs de color que “respiran” */
body::before{
  content: "";
  position: fixed;
  inset: -20% -20%;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(35% 45% at 15% 10%,  rgb(var(--brand) / .35), transparent 60%),
    radial-gradient(40% 50% at 85% 15%,  rgb(var(--brand2) / .35), transparent 60%),
    radial-gradient(60% 80% at 50% 90%,  rgb(var(--brand3) / .30), transparent 60%);
  filter: blur(50px) saturate(120%);
  transform: translateZ(0);
  animation: bg-float 26s ease-in-out infinite alternate;
}
@keyframes bg-float{
  0%   { transform: translate3d(-2%, -1%, 0) rotate(0deg); }
  50%  { transform: translate3d( 2%,  1%, 0) rotate(180deg); }
  100% { transform: translate3d(-1%,  2%, 0) rotate(360deg); }
}

/* Capa 2: rejilla suave + giro de matiz para el efecto “vivo” */
body::after{
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    conic-gradient(from 0turn at 50% 50%,
      rgb(var(--brand) / .06),
      rgb(var(--brand2) / .06),
      rgb(var(--brand3) / .06),
      rgb(var(--brand) / .06)
    ),
    /* rejilla muy sutil */
    repeating-linear-gradient(90deg, rgb(255 255 255 / .03) 0 1px, transparent 1px 96px),
    repeating-linear-gradient(0deg,  rgb(255 255 255 / .02) 0 1px, transparent 1px 96px);
  mix-blend-mode: soft-light;
  opacity: .55;
  animation: hue-spin 40s linear infinite;
}
[data-theme="dark"] body::after{ opacity: .65; }   /* un poco más visible en oscuro */
[data-theme="light"] body::after{ opacity: .50; }

@keyframes hue-spin{
  from { filter: hue-rotate(0deg); }
  to   { filter: hue-rotate(360deg); }
}

/* Respeto de accesibilidad: usuarios que prefieren menos movimiento */
@media (prefers-reduced-motion: reduce){
  body::before, body::after { animation: none; }
}

/* ====== Mejor contraste en INDEX (modo oscuro) ====== */

/* Tarjetas de enlaces */
[data-theme="dark"] .link-item{
  --btn-bg: 28 32 40; /* superficie oscura */
  background: linear-gradient(180deg, rgb(var(--btn-bg) / .96), rgb(var(--btn-bg) / .92));
  border-color: rgb(255 255 255 / .10);
  box-shadow: 0 10px 24px rgb(0 0 0 / .28);
}
[data-theme="dark"] .link-item .fw-bold{ color:#e9edf2; }
[data-theme="dark"] .link-item small{ color: rgb(200 210 220 / .85); }
[data-theme="dark"] .link-item:hover{
  border-color: rgb(var(--brand) / .45);
  box-shadow: 0 14px 32px rgb(0 0 0 / .35);
  transform: translateY(-2px);
}

/* Roadmap: sobreescribe estilos inline claros con !important */
[data-theme="dark"] #phaseRoadmap .border.rounded-3{
  background: rgb(var(--card) / .92) !important;
  border-color: rgb(255 255 255 / .10) !important;
}
[data-theme="dark"] #phaseRoadmap .progress{ background: rgb(255 255 255 / .12); }
[data-theme="dark"] #phaseRoadmap .progress-bar{ color: rgb(255 255 255 / .92); }

/* Un pelín más de contraste general en oscuro */
[data-theme="dark"] .card-glass{
  background: rgb(var(--card) / .92);
  border-color: rgb(255 255 255 / .08);
}

.roadmap-card{
  background: rgb(255 255 255 / .6);
  border-color: rgb(var(--ring));
}
[data-theme="dark"] .roadmap-card{
  background: rgb(var(--card) / .92);
  border-color: rgb(255 255 255 / .10);
}

/* ===== Fix tema CLARO: botón Volver + barra de progreso ===== */

/* 1) Botón "Volver" visible en claro (sin tocar el HTML) */
[data-theme="light"] .btn.btn-outline-light{
  color: #1f2937;                          /* gris oscuro legible */
  border-color: rgb(0 0 0 / .22);          /* borde visible */
  background: rgb(255 255 255 / .55);      /* leve fondo para contraste sobre el bg */
  box-shadow: 0 1px 2px rgb(0 0 0 / .06);
}
[data-theme="light"] .btn.btn-outline-light:hover{
  background: rgb(0 0 0 / .04);
  border-color: rgb(0 0 0 / .32);
  color: #111827;
}

/* 2) Pista de la barra de progreso con borde en claro */
.progress{ border-radius: 999px; } /* remata las esquinas en ambos temas */

[data-theme="light"] .progress{
  background: linear-gradient(180deg,
              rgb(0 0 0 / .05),
              rgb(0 0 0 / .08));
  border: 1px solid rgb(0 0 0 / .12);      /* ¡borde visible! */
  box-shadow: inset 0 1px 1px rgb(255 255 255 / .6);
}

/* opcional: un filo suave al relleno para que “separe” del track en claro */
[data-theme="light"] .progress-bar{
  box-shadow: inset 0 0 0 1px rgb(255 255 255 / .35);
}
